
<H1><A NAME="SECTION058260000000000000000">
Recuperacion de Errores: Visión Detallada</A>
</H1>
La subrutina <tex2html_verb_mark>2780<tex2html_verb_mark> contiene el algoritmo de
análisis LR genérico. En esta sección 
nos concentraremos en la forma en la que se ha implantado en
<tex2html_verb_mark>2781<tex2html_verb_mark> la recuperación de errores.
<PRE><tex2html_verbatim_mark>verbatim6227#</PRE>
 La variable <tex2html_verb_mark>2782<tex2html_verb_mark> nos indica la situación con respecto a la recuperación
 de errores. La variable <tex2html_verb_mark>2783<tex2html_verb_mark> contiene el número total de errores.
 <PRE><tex2html_verbatim_mark>verbatim6228#</PRE>
Si <tex2html_verb_mark>2784<tex2html_verb_mark> no esta definida es que ha ocurrido un 
error. En tal caso no se entra a estudiar
si la acción es de desplazamiento o reducción.
<PRE><tex2html_verbatim_mark>verbatim6229#</PRE>
Si <tex2html_verb_mark>2785<tex2html_verb_mark> es cero es que estamos
ante un nuevo error:
<PRE><tex2html_verbatim_mark>verbatim6230#</PRE>
Como el error es ``nuevo'' se llama a la subrutina de 
tratamiento de errores <tex2html_verb_mark>2786<tex2html_verb_mark>. Obsérvese que no
se volverá a llamar a la rutina de manejo de errores
hasta que <tex2html_verb_mark>2787<tex2html_verb_mark> vuelva a alcanzar 
el valor cero. Puesto que <tex2html_verb_mark>2788<tex2html_verb_mark> ha sido
escrita por el usuario, es posible que este haya llamado
al método <tex2html_verb_mark>2789<tex2html_verb_mark>. Si ese es el caso, es que el
programador prefiere que el análisis continúe como
si la recuperación de errores se hubiera completado.

<P>
Ahora se pone <tex2html_verb_mark>2790<tex2html_verb_mark> a 3:
<PRE><tex2html_verbatim_mark>verbatim6231#</PRE>
Cada vez que se logre un desplazamiento con éxito <tex2html_verb_mark>2791<tex2html_verb_mark>
será decrementado (línea 19).

<P>
A continuación se retiran estados de la pila hasta
que se encuentre alguno que pueda transitar ante el 
terminale especial <tex2html_verb_mark>2792<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim6232#</PRE>
Si la pila quedó vacía se devuelve <tex2html_verb_mark>2793<tex2html_verb_mark>. En caso contrario
es que el programador escribió alguna regla para la
recuperación de errores. En ese caso, se transita al estado
correspondiente:
<PRE><tex2html_verbatim_mark>verbatim6233#</PRE>
Un poco antes tenemos el siguiente código:
<PRE><tex2html_verbatim_mark>verbatim6234#</PRE>
Si hemos alcanzado el final de la entrada en una situación de error
se abandona devolviendo <tex2html_verb_mark>2794<tex2html_verb_mark>.
<P><DIV><#37886#><B>Ejercicio  <SPAN CLASS="arabic">35</SPAN>.<SPAN CLASS="arabic">26</SPAN>.<SPAN CLASS="arabic">1</SPAN></B><#37886#> &nbsp; 
<#37889#><I>Explique la razón para el comentario de la línea
41. Si <tex2html_verb_mark>2795<tex2html_verb_mark> es 3, el último
terminal no ha producido un desplazamiento correcto. ¿Porqué?</I><#37889#></DIV><P></P>

A continuación aparecen los códigos de los métodos implicados en 
la recuperación de errores:
<PRE><tex2html_verbatim_mark>verbatim6235#</PRE>
El método <tex2html_verb_mark>2796<tex2html_verb_mark> cambia el valor referenciado por <tex2html_verb_mark>2797<tex2html_verb_mark>.
De esta forma se le da al programador <tex2html_verb_mark>2798<tex2html_verb_mark> la oportunidad de anunciar
que es muy probable que la fase de recuperación de errores se haya completado.

<P>
Los dos siguientes métodos devuelven el número de errores hasta el momento
(<tex2html_verb_mark>2799<tex2html_verb_mark>)
y si nos encontramos o no en fase de recuperación de errores (<tex2html_verb_mark>2800<tex2html_verb_mark>):
<PRE><tex2html_verbatim_mark>verbatim6236#</PRE>

<P>

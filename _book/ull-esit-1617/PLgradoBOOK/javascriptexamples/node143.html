
<H1><A NAME="SECTION05660000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="section:predictivo"><tex2html_anchor_mark></A><BR>
Análisis Sintáctico Predictivo Recursivo
</H1>
La siguiente fase en la construcción del analizador es la fase de 
análisis sintáctico. Esta toma como entrada el flujo de terminales
y construye como salida el árbol de análisis sintáctico abstracto.

<P>
El árbol de análisis sintáctico abstracto es una representación  compactada del árbol 
de análisis sintáctico concreto que contiene la misma información que éste.

<P>
Existen diferentes métodos de análisis sintáctico. La mayoría caen en una de dos categorías:
ascendentes y descendentes. Los ascendentes construyen el árbol desde las hojas
hacia la raíz. Los descendentes lo hacen en modo inverso. El que describiremos
aqui es uno de los mas sencillos: se denomina método de análisis predictivo descendente 
recursivo.

<P>

<H2><A NAME="SECTION05661000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="subsection:introduccion"><tex2html_anchor_mark></A><BR>
Introducción
</H2>
En este método se asocia una subrutina con cada variable sintáctica <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33757#</SPAN>
<tex2html_verbatim_mark>mathend000#. Dicha subrutina 
(que llamaremos <tex2html_verb_mark>1737<tex2html_verb_mark>) reconocerá el lenguaje generado desde la variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33759#</SPAN>
<tex2html_verbatim_mark>mathend000#:

<P>
<DIV ALIGN="CENTER">
<tex2html_verbatim_mark>#math6434#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33761#</SPAN>
<tex2html_verbatim_mark>mathend000#
</DIV>

<P>
En este método se escribe una rutina <tex2html_verb_mark>1738<tex2html_verb_mark> por variable sintáctica <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33763#</SPAN>
<tex2html_verbatim_mark>mathend000#. 
Se le da a la rutina asociada el mismo nombre que a la variable sintáctica
asociada. La función de la rutina <tex2html_verb_mark>1739<tex2html_verb_mark> asociada con la variable
<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33765#</SPAN>
<tex2html_verbatim_mark>mathend000# es reconocer el lenguaje <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33767#</SPAN>
<tex2html_verbatim_mark>mathend000# generado por <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33769#</SPAN>
<tex2html_verbatim_mark>mathend000#.
La estrategia general que sigue la rutina <tex2html_verb_mark>1740<tex2html_verb_mark> para reconocer
<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33771#</SPAN>
<tex2html_verbatim_mark>mathend000# es decidir en términos del terminal <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33773#</SPAN>
<tex2html_verbatim_mark>mathend000# en la entrada
que regla de producción concreta <tex2html_verbatim_mark>#math6435#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33775#</SPAN>
<tex2html_verbatim_mark>mathend000# se aplica para
a continuación comprobar que la entrada que sigue pertenece al lenguaje generado por 
<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33777#</SPAN>
<tex2html_verbatim_mark>mathend000#. 
En un analizador predictivo descendente recursivo (APDR) se asume que el símbolo que actualmente 
esta siendo observado (denotado <tex2html_verb_mark>1741<tex2html_verb_mark>) permite determinar unívocamente
que producción de <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33779#</SPAN>
<tex2html_verbatim_mark>mathend000# hay que aplicar. 
Una vez que se ha determinado que la regla por la que continuar la derivación
es <tex2html_verbatim_mark>#math6436#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33781#</SPAN>
<tex2html_verbatim_mark>mathend000# se procede a reconocer <tex2html_verbatim_mark>#math6437#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33783#</SPAN>
<tex2html_verbatim_mark>mathend000#,
el lenguaje generado por <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33785#</SPAN>
<tex2html_verbatim_mark>mathend000#. Si <tex2html_verbatim_mark>#math6438#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33787#</SPAN>
<tex2html_verbatim_mark>mathend000#,
las apariciones de terminales <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33789#</SPAN>
<tex2html_verbatim_mark>mathend000# en <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33791#</SPAN>
<tex2html_verbatim_mark>mathend000# son emparejadas
con los terminales en la entrada mientras que las apariciones de variables <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33793#</SPAN>
<tex2html_verbatim_mark>mathend000#
en <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33795#</SPAN>
<tex2html_verbatim_mark>mathend000# se traducen en llamadas a la correspondiente subrutina asociada con <tex2html_verb_mark>1742<tex2html_verb_mark>.

<P>
Para ilustrar el método,
simplificaremos la gramática presentada en el ejercicio
<A HREF=<tex2html_cr_mark>#ejercicio:tutugrammar#10894><tex2html_cr_mark></A> eliminando las declaraciones:

<P>
<BR>
<BR>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT">statements   <tex2html_verbatim_mark>#math6439#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33797#</SPAN>
<tex2html_verbatim_mark>mathend000# statement  ';'  statements        <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33799#</SPAN>
<tex2html_verbatim_mark>mathend000# statement</TD>
</TR>
<TR><TD ALIGN="LEFT">statement    <tex2html_verbatim_mark>#math6440#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33801#</SPAN>
<tex2html_verbatim_mark>mathend000# ID '=' expression                 <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33803#</SPAN>
<tex2html_verbatim_mark>mathend000# P  expression</TD>
</TR>
<TR><TD ALIGN="LEFT">expression   <tex2html_verbatim_mark>#math6441#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33805#</SPAN>
<tex2html_verbatim_mark>mathend000# term '+' expression               <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33807#</SPAN>
<tex2html_verbatim_mark>mathend000# term</TD>
</TR>
<TR><TD ALIGN="LEFT">term         <tex2html_verbatim_mark>#math6442#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33809#</SPAN>
<tex2html_verbatim_mark>mathend000# factor '*' term                   <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33811#</SPAN>
<tex2html_verbatim_mark>mathend000# factor</TD>
</TR>
<TR><TD ALIGN="LEFT">factor       <tex2html_verbatim_mark>#math6443#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33813#</SPAN>
<tex2html_verbatim_mark>mathend000# '(' expression ')' <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33815#</SPAN>
<tex2html_verbatim_mark>mathend000# ID <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33817#</SPAN>
<tex2html_verbatim_mark>mathend000# NUM</TD>
</TR>
</TABLE>
<BR>
<BR>

<P>
La secuencia de llamadas cuando se procesa la entrada mediante 
el siguiente programa construye ``implícitamente'' el árbol 
de análisis sintáctico concreto.

<P>
Dado que estamos usando <tex2html_verb_mark>1743<tex2html_verb_mark> se requiere prototipar las funciones
al comienzo del fichero:
<PRE><tex2html_verbatim_mark>verbatim5558#</PRE>

<P>
Para saber mas sobre prototipos consulte <A HREF=<tex2html_ext_cr_mark>#section:prototipos#12122><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].

<P>
<P><DIV><A NAME="program:adrp"><#33824#><B>Programa  <SPAN CLASS="arabic">33</SPAN>.<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN></B><#33824#></A> &nbsp; 
<#33827#><I></I><PRE><tex2html_verbatim_mark>verbatim5559#</PRE><I></I><#33827#></DIV><P></P>


<P>
Como vemos en el ejemplo, el análisis predictivo confía en que, si estamos
ejecutando la entrada del procedimiento <tex2html_verb_mark>1744<tex2html_verb_mark>,
el cuál está asociado con la variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33829#</SPAN>
<tex2html_verbatim_mark>mathend000#, el símbolo terminal
que esta en la entrada <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33831#</SPAN>
<tex2html_verbatim_mark>mathend000# determine de manera unívoca la regla
de producción <tex2html_verbatim_mark>#math6444#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33833#</SPAN>
<tex2html_verbatim_mark>mathend000# que debe ser procesada.

<P>
Si se piensa, esta condición requiere que todas las partes derechas <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33835#</SPAN>
<tex2html_verbatim_mark>mathend000# de
las reglas <tex2html_verbatim_mark>#math6445#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33837#</SPAN>
<tex2html_verbatim_mark>mathend000# de <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33839#</SPAN>
<tex2html_verbatim_mark>mathend000# ``comiencen'' por diferentes símbolos.
Para formalizar esta idea, introduciremos el concepto de
conjunto <tex2html_verbatim_mark>#math6446#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33841#</SPAN>
<tex2html_verbatim_mark>mathend000#:

<P>
<P><DIV><#33843#><B>Definición  <SPAN CLASS="arabic">33</SPAN>.<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN></B><#33843#> &nbsp; 
<#33846#><I>Dada una gramática 
<tex2html_verbatim_mark>#math6447#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33848#</SPAN>
<tex2html_verbatim_mark>mathend000# y un símbolo <tex2html_verbatim_mark>#math6448#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33850#</SPAN>
<tex2html_verbatim_mark>mathend000# se define el conjunto 
<tex2html_verbatim_mark>#math6449#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33852#</SPAN>
<tex2html_verbatim_mark>mathend000# como:
</I>
<P>
<I><tex2html_verbatim_mark>#math6450#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33854#</SPAN>
<tex2html_verbatim_mark>mathend000# 
</I>
<P>
<I>donde:
</I>
<P>
<I><tex2html_verbatim_mark>#math6451#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33856#</SPAN>
<tex2html_verbatim_mark>mathend000# 
</I>
<P>
<I></I><#33846#></DIV><P></P>


<P>
Podemos reformular ahora nuestra afirmación anterior en estos términos:
Si <tex2html_verbatim_mark>#math6452#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33858#</SPAN>
<tex2html_verbatim_mark>mathend000# y los conjuntos <tex2html_verbatim_mark>#math6453#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33860#</SPAN>
<tex2html_verbatim_mark>mathend000# son 
disjuntos podemos construir el procedimiento para la variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33862#</SPAN>
<tex2html_verbatim_mark>mathend000# siguiendo
este seudocódigo:

<P>
<PRE><tex2html_verbatim_mark>verbatim5560#</PRE>

<P>
Donde si <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33864#</SPAN>
<tex2html_verbatim_mark>mathend000# es <tex2html_verbatim_mark>#math6454#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33866#</SPAN>
<tex2html_verbatim_mark>mathend000# el código <tex2html_verb_mark>1745<tex2html_verb_mark> consiste
en una secuencia <tex2html_verbatim_mark>#math6455#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33868#</SPAN>
<tex2html_verbatim_mark>mathend000# de llamadas de uno de estos dos tipos:

<UL>
<LI>Llamar a la subrutina <tex2html_verb_mark>1746<tex2html_verb_mark> si <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33870#</SPAN>
<tex2html_verbatim_mark>mathend000# es una variable sintáctica
</LI>
<LI>Hacer una llamada a <tex2html_verb_mark>1747<tex2html_verb_mark> si <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33872#</SPAN>
<tex2html_verbatim_mark>mathend000# es un terminal
</LI>
</UL>

<P>

<H2><A NAME="SECTION05662000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12125"><tex2html_anchor_invisible_mark></A><BR>
Ejercicio: Recorrido del árbol en un ADPR
</H2>
  
¿En que forma es recorrido el árbol de análisis sintáctico concreto en un 
analizador descendente predictivo recursivo? ¿En que orden son visitados los nodos?

<P>

<H2><A NAME="SECTION05663000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12127"><tex2html_anchor_invisible_mark></A><BR>
Ejercicio: Factores Comunes
</H2>
  
En el programa <A HREF=<tex2html_cr_mark>#program:adrp#10924><tex2html_cr_mark></A> el reconocimiento de las categorías gramáticales
statements, expression y term (líneas 19-27) difiere del resto. Observe las reglas:

<P>
<BR>
<BR>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT">statements   <tex2html_verbatim_mark>#math6456#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33876#</SPAN>
<tex2html_verbatim_mark>mathend000# statement  ';'  statements        <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33878#</SPAN>
<tex2html_verbatim_mark>mathend000# statement</TD>
</TR>
<TR><TD ALIGN="LEFT">expression   <tex2html_verbatim_mark>#math6457#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33880#</SPAN>
<tex2html_verbatim_mark>mathend000# term '+' expression               <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33882#</SPAN>
<tex2html_verbatim_mark>mathend000# term</TD>
</TR>
<TR><TD ALIGN="LEFT">term         <tex2html_verbatim_mark>#math6458#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33884#</SPAN>
<tex2html_verbatim_mark>mathend000# factor '*' term                   <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33886#</SPAN>
<tex2html_verbatim_mark>mathend000# factor</TD>
</TR>
</TABLE>
<BR>
<BR>

<P>
¿Son disjuntos los conjuntos <tex2html_verbatim_mark>#math6459#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33891#</SPAN>
<tex2html_verbatim_mark>mathend000# para las partes derechas de las reglas
de statements?
¿Son disjuntos los conjuntos <tex2html_verbatim_mark>#math6460#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33893#</SPAN>
<tex2html_verbatim_mark>mathend000# para las partes derechas de las reglas
de expression?
¿Son disjuntos los conjuntos <tex2html_verbatim_mark>#math6461#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33895#</SPAN>
<tex2html_verbatim_mark>mathend000# para las partes derechas de las reglas
de term?

<P>
Si se tiene una variable con producciones:

<P>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT"><tex2html_verbatim_mark>#math6462#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33897#</SPAN>
<tex2html_verbatim_mark>mathend000#</TD>
</TR>
</TABLE>

<P>
Las dos producciones tienen un <A NAME="12128"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">máximo factor común</SPAN> en la izquierda
de su parte derecha <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33900#</SPAN>
<tex2html_verbatim_mark>mathend000#. Asumimos que <tex2html_verbatim_mark>#math6463#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33902#</SPAN>
<tex2html_verbatim_mark>mathend000#.

<OL>
<LI>¿Cómo puede modificarse la gramática para obtener una nueva gramática que cumpla la condición de que las partes derechas tienen conjuntos <tex2html_verbatim_mark>#math6464#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33904#</SPAN>
<tex2html_verbatim_mark>mathend000# disjuntos?
</LI>
<LI>¿Puede modificarse la técnica APDR para que funcione sobre gramáticas con este tipo 
de producciones?. Observe el código asociado con statements, expression  y term.
¿Cómo sería el esquema general?
</LI>
</OL>

<P>

<H2><A NAME="SECTION05664000000000000000">
Derivaciones a vacío</A>
</H2>
Surge un problema cuando <tex2html_verbatim_mark>#math6465#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33907#</SPAN>
<tex2html_verbatim_mark>mathend000#
y la palabra vacía está en alguno de los conjuntos
<tex2html_verbatim_mark>#math6466#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33909#</SPAN>
<tex2html_verbatim_mark>mathend000#. ¿Que hacer entonces? 

<P>
Nótese que si <tex2html_verbatim_mark>#math6467#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33911#</SPAN>
<tex2html_verbatim_mark>mathend000# y <tex2html_verbatim_mark>#math6468#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33913#</SPAN>
<tex2html_verbatim_mark>mathend000# es porque existe una derivación
<tex2html_verbatim_mark>#math6469#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33915#</SPAN>
<tex2html_verbatim_mark>mathend000#. ¿Que terminales podemos 
legalmente encontrarnos cuando estamos en la subrutina <tex2html_verb_mark>1748<tex2html_verb_mark>?
Consideremos una derivación desde el símbolo de arranque en la que se 
use la producción <tex2html_verbatim_mark>#math6470#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33917#</SPAN>
<tex2html_verbatim_mark>mathend000#. Dicha derivación forzosamente
tendrá la forma:

<P>
<DIV ALIGN="CENTER">
<tex2html_verbatim_mark>#math6471#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33919#</SPAN>
<tex2html_verbatim_mark>mathend000#.

</DIV>

<P>
Cualquier terminal <tex2html_verbatim_mark>#math6472#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33921#</SPAN>
<tex2html_verbatim_mark>mathend000# que pueda aparecer en una derivación desde 
el símbolo de arranque inmediatamente a continuación  de la variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33923#</SPAN>
<tex2html_verbatim_mark>mathend000# 
es susceptible de ser visto
cuando se esta analizando <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33925#</SPAN>
<tex2html_verbatim_mark>mathend000# y se aplicó 
<tex2html_verbatim_mark>#math6473#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33927#</SPAN>
<tex2html_verbatim_mark>mathend000# con <tex2html_verbatim_mark>#math6474#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33929#</SPAN>
<tex2html_verbatim_mark>mathend000#.
Esto nos lleva a la definición del conjunto <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33931#</SPAN>
<tex2html_verbatim_mark>mathend000# como conjunto
de terminales que pueden aparecer a continuación de <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33933#</SPAN>
<tex2html_verbatim_mark>mathend000# en una derivación 
desde el símbolo de arranque:

<P>
<P><DIV><#33935#><B>Definición  <SPAN CLASS="arabic">33</SPAN>.<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN></B><#33935#> &nbsp; 
<#33938#><I>Dada una gramática <tex2html_verbatim_mark>#math6475#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33940#</SPAN>
<tex2html_verbatim_mark>mathend000# y una variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33942#</SPAN>
<tex2html_verbatim_mark>mathend000# 
se define el conjunto <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33944#</SPAN>
<tex2html_verbatim_mark>mathend000# como: 
</I>
<P>
<I><tex2html_verbatim_mark>#math6476#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33946#</SPAN>
<tex2html_verbatim_mark>mathend000#
</I>
<P>
<I>donde
</I>
<P>
<I><tex2html_verbatim_mark>#math6477#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33948#</SPAN>
<tex2html_verbatim_mark>mathend000# 
</I>
<P>
<I></I><#33938#></DIV><P></P>

Aqui <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33950#</SPAN>
<tex2html_verbatim_mark>mathend000# denota el final de la entrada (que se corresponde en el código Perl anterior 
con el terminal <tex2html_verb_mark>1749<tex2html_verb_mark>).

<P>
Si <tex2html_verbatim_mark>#math6478#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33952#</SPAN>
<tex2html_verbatim_mark>mathend000# dado que los conjuntos <tex2html_verbatim_mark>#math6479#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33954#</SPAN>
<tex2html_verbatim_mark>mathend000# 
han de ser disjuntos para que un analizador predictivo APDR funcione, sólo una parte derecha
puede contener la palabra vacía en su <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33956#</SPAN>
<tex2html_verbatim_mark>mathend000#. Supongamos que es <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33958#</SPAN>
<tex2html_verbatim_mark>mathend000#.
Podemos reformular la construcción del procedimiento para la variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33960#</SPAN>
<tex2html_verbatim_mark>mathend000# siguiendo
este seudocódigo:

<P>
<PRE><tex2html_verbatim_mark>verbatim5561#</PRE>

<P>
Un caso particular de <tex2html_verbatim_mark>#math6480#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33962#</SPAN>
<tex2html_verbatim_mark>mathend000# 
es que <tex2html_verbatim_mark>#math6481#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33964#</SPAN>
<tex2html_verbatim_mark>mathend000#. En tal caso, y como
es obvio, el significado de <tex2html_verb_mark>1750<tex2html_verb_mark> 
es equivalente a ejecutar una sentencia vacía.

<P>

<H2><A NAME="SECTION05665000000000000000">
Construcción de los conjuntos de Primeros y Siguientes</A>
</H2>

<P>
<P><DIV><#33967#><B>Algoritmo  <SPAN CLASS="arabic">33</SPAN>.<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">1</SPAN></B><#33967#> &nbsp; 
<#33970#><I>Construcción de los conjuntos <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33972#</SPAN>
<tex2html_verbatim_mark>mathend000#
</I>
<P>
<I>Repita el siguiente conjunto de reglas hasta que no se puedan añadir mas símbolos terminales o  a ningún conjunto <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33974#</SPAN>
<tex2html_verbatim_mark>mathend000#:
</I>
<OL>
<LI><tex2html_verbatim_mark>#math6482#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33976#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
<LI><tex2html_verbatim_mark>#math6483#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33978#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
<LI><tex2html_verbatim_mark>#math6484#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33980#</SPAN>
<tex2html_verbatim_mark>mathend000#
<BR>
<DIV ALIGN="CENTER" CLASS="mathdisplay">
<tex2html_verbatim_mark>#math6485#
<TABLE CELLPADDING="0" ALIGN="CENTER" WIDTH="100%">
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay33983#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay33985#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay33987#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay33989#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay33991#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL">

</LI>
<LI>Añadir <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33993#</SPAN>
<tex2html_verbatim_mark>mathend000# a <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33995#</SPAN>
<tex2html_verbatim_mark>mathend000# si <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33997#</SPAN>
<tex2html_verbatim_mark>mathend000# y <tex2html_verbatim_mark>#math6486#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline33999#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
</OL><I></I><#33970#></DIV><P></P>

Aqui <tex2html_verbatim_mark>#math6487#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34001#</SPAN>
<tex2html_verbatim_mark>mathend000# denota al conjunto <tex2html_verbatim_mark>#math6488#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34003#</SPAN>
<tex2html_verbatim_mark>mathend000#.

<P>
Este algoritmo puede ser extendido para calcular 
<tex2html_verbatim_mark>#math6489#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34005#</SPAN>
<tex2html_verbatim_mark>mathend000# para <tex2html_verbatim_mark>#math6490#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34007#</SPAN>
<tex2html_verbatim_mark>mathend000#.
El esquema es anólogo al de un símbolo individual.

<P>
<P><DIV><#34009#><B>Algoritmo  <SPAN CLASS="arabic">33</SPAN>.<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">2</SPAN></B><#34009#> &nbsp; 
<#34012#><I>Construcción del conjunto <tex2html_verbatim_mark>#math6491#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34014#</SPAN>
<tex2html_verbatim_mark>mathend000# 
</I>
<P>
<I>Repita siguiente conjunto de reglas hasta que no se puedan añadir mas
símbolos terminales o  a ningún conjunto <tex2html_verbatim_mark>#math6492#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34016#</SPAN>
<tex2html_verbatim_mark>mathend000#:
</I><BR>
<DIV ALIGN="CENTER" CLASS="mathdisplay">
<tex2html_verbatim_mark>#math6493#
<TABLE CELLPADDING="0" ALIGN="CENTER" WIDTH="100%">
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay34019#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay34021#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay34023#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay34025#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay34027#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP WIDTH="50%" ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD ALIGN="LEFT" NOWRAP WIDTH="50%"><tex2html_image_mark>#tex2html_wrap_indisplay34029#</TD>
<TD CLASS="eqno" WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL">
<I></I><#34012#></DIV><P></P>


<P>
<P><DIV><#34031#><B>Algoritmo  <SPAN CLASS="arabic">33</SPAN>.<SPAN CLASS="arabic">6</SPAN>.<SPAN CLASS="arabic">3</SPAN></B><#34031#> &nbsp; 
<#34034#><I>Construcción de los conjuntos <tex2html_verbatim_mark>#math6494#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34036#</SPAN>
<tex2html_verbatim_mark>mathend000#: 
</I>
<P>
<I>Repetir los siguientes pasos hasta que ninguno de los conjuntos <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34038#</SPAN>
<tex2html_verbatim_mark>mathend000# cambie:
</I>
 
<OL>
<LI><tex2html_verbatim_mark>#math6495#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34040#</SPAN>
<tex2html_verbatim_mark>mathend000# (<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34042#</SPAN>
<tex2html_verbatim_mark>mathend000# representa el final de la entrada)
</LI>
<LI><tex2html_verbatim_mark>#math6496#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34044#</SPAN>
<tex2html_verbatim_mark>mathend000#
<P><tex2html_verbatim_mark>#math6497#</P><DIV ALIGN="CENTER" CLASS="mathdisplay">
<tex2html_image_mark>#tex2html_wrap_indisplay34046#
</DIV><P>
<tex2html_verbatim_mark>mathend000#</P>
</LI>
<LI><tex2html_verbatim_mark>#math6498#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34048#</SPAN>
<tex2html_verbatim_mark>mathend000#
<P><tex2html_verbatim_mark>#math6499#</P><DIV ALIGN="CENTER" CLASS="mathdisplay">
<tex2html_image_mark>#tex2html_wrap_indisplay34050#
</DIV><P>
<tex2html_verbatim_mark>mathend000#</P>
</LI>
</OL><I></I><#34034#></DIV><P></P>


<P>

<H2><A NAME="SECTION05666000000000000000">
Ejercicio: Construir los <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34053#</SPAN>
<tex2html_verbatim_mark>mathend000#</A>
</H2>
   <A NAME="12131"><tex2html_anchor_invisible_mark></A>
  
Construya los conjuntos <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34057#</SPAN>
<tex2html_verbatim_mark>mathend000# de las partes derechas de las reglas de 
producción de la gramática presentada en el ejercicio <A HREF=<tex2html_cr_mark>#ejercicio:tutugrammar#10978><tex2html_cr_mark></A>.

<P>

<H2><A NAME="SECTION05667000000000000000">
Ejercicio: Calcular los <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34060#</SPAN>
<tex2html_verbatim_mark>mathend000#</A>
</H2>
   <A NAME="12133"><tex2html_anchor_invisible_mark></A>
  
Modificamos la gramática de la sección 
<A HREF=<tex2html_cr_mark>#subsection:introduccion#10980><tex2html_cr_mark></A>
para que admita la sentencia vacía:

<P>
<BR>
<BR>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT">statements   <tex2html_verbatim_mark>#math6500#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34064#</SPAN>
<tex2html_verbatim_mark>mathend000# statement  ';'  statements        <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34066#</SPAN>
<tex2html_verbatim_mark>mathend000# statement</TD>
</TR>
<TR><TD ALIGN="LEFT">statement    <tex2html_verbatim_mark>#math6501#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34068#</SPAN>
<tex2html_verbatim_mark>mathend000# ID '=' expression                 <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34070#</SPAN>
<tex2html_verbatim_mark>mathend000# P  expression <tex2html_verbatim_mark>#math6502#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34072#</SPAN>
<tex2html_verbatim_mark>mathend000#</TD>
</TR>
<TR><TD ALIGN="LEFT">expression   <tex2html_verbatim_mark>#math6503#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34074#</SPAN>
<tex2html_verbatim_mark>mathend000# term '+' expression               <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34076#</SPAN>
<tex2html_verbatim_mark>mathend000# term</TD>
</TR>
<TR><TD ALIGN="LEFT">term         <tex2html_verbatim_mark>#math6504#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34078#</SPAN>
<tex2html_verbatim_mark>mathend000# factor '*' term                   <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34080#</SPAN>
<tex2html_verbatim_mark>mathend000# factor</TD>
</TR>
<TR><TD ALIGN="LEFT">factor       <tex2html_verbatim_mark>#math6505#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34082#</SPAN>
<tex2html_verbatim_mark>mathend000# '(' expression ')' <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34084#</SPAN>
<tex2html_verbatim_mark>mathend000# ID <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34086#</SPAN>
<tex2html_verbatim_mark>mathend000# NUM</TD>
</TR>
</TABLE>
<BR>
<BR>

<P>
Calcule los conjuntos <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34093#</SPAN>
<tex2html_verbatim_mark>mathend000#. ¿Es la nueva gramática susceptible
de ser analizada por un analizador predictivo descendente recursivo?
¿Cómo sería el código para la subrutina <tex2html_verb_mark>1751<tex2html_verb_mark>?. Escríbalo.

<P>

<H2><A NAME="SECTION05668000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12135"><tex2html_anchor_invisible_mark></A>
  
<A NAME="practica:firstandfollow"><tex2html_anchor_mark></A><BR>
Práctica: Construcción de los FIRST y los FOLLOW
</H2>
He escrito un módulo llamado 
<A NAME="tex2html362"
  HREF="Grammar-0.02.tar.gz">Grammar</A>
que provee la función
<tex2html_verb_mark>1752<tex2html_verb_mark> la cual recibe una cadena conteniendo la
gramática en formato <tex2html_verb_mark>1753<tex2html_verb_mark> o <tex2html_verb_mark>1754<tex2html_verb_mark> y devuelve una referencia a un
hash conteniendo la información pertinente para el tratamiento de 
la gramática. 
Para instalar el módulo tenga en cuenta que depende del módulo <tex2html_verb_mark>1755<tex2html_verb_mark>.

<P>
Para ilustrar el uso vea los ejemplos en el directorio <tex2html_verb_mark>1756<tex2html_verb_mark>.
En concreto veamos el programa <tex2html_verb_mark>1757<tex2html_verb_mark>.
<PRE><tex2html_verbatim_mark>verbatim5562#</PRE>
Vamos a darle como entrada la gramática en el fichero <tex2html_verb_mark>1758<tex2html_verb_mark>
conteniendo una gramática:
<PRE><tex2html_verbatim_mark>verbatim5563#</PRE>

<P>
Las gramáticas aceptadas por <tex2html_verb_mark>1759<tex2html_verb_mark> se adaptan a la sintáxis de
las gramáticas reconocidas por <tex2html_verb_mark>1760<tex2html_verb_mark>.
Una gramática (normalmente con tipo  <tex2html_verb_mark>1761<tex2html_verb_mark>) consta de tres partes: la cabeza, el cuerpo
y la cola. Cada una de las partes va separada de las otras por el
símbolo <tex2html_verb_mark>1763<tex2html_verb_mark> en una línea aparte. Así, el <tex2html_verb_mark>1764<tex2html_verb_mark> de la línea 1
separa la cabeza del cuerpo. En la cabecera se colocan 
las declaraciones de terminales (directiva <tex2html_verb_mark>1766<tex2html_verb_mark>), 
cual es el símbolo de arranque (directiva <tex2html_verb_mark>1768<tex2html_verb_mark>), etc.
El cuerpo contiene las reglas de la gramática y
las acciones asociadas. Por último, la cola  en nuestro caso no es
usada y es vacía. En general, la cola 
contiene las rutinas de soporte al código que aparece en las acciones 
asi como, posiblemente, rutinas para el análisis léxico 
y el tratamiento de errores. 

<P>
La salida de <tex2html_verb_mark>1769<tex2html_verb_mark> es una referencia a un hash cuyas entradas
vienen explicadas por los comentarios.
<PRE><tex2html_verbatim_mark>verbatim5564#</PRE>
Usando la estructura devuelta por la función <tex2html_verb_mark>1770<tex2html_verb_mark> escriba un módulo
que provea funciones para computar los <tex2html_verb_mark>1771<tex2html_verb_mark> y los <tex2html_verb_mark>1772<tex2html_verb_mark> de las variables
sintácticas de la gramática. No olvide escribir la documentación. 
Incluya una prueba por cada una de las gramáticas que figuran en el directorio <tex2html_verb_mark>1773<tex2html_verb_mark>
del módulo <tex2html_verb_mark>1774<tex2html_verb_mark>.

<P>
Puede encontrar la práctica <SPAN  CLASS="textbf">casi hecha</SPAN> en
<A NAME="tex2html363"
  HREF="PL-FirstFollow-0.02.tar.gz">PL::FirstFollow</A>.
Asegúrese de entender el algoritmo usado.
Aumente el número de pruebas y haga un análisis de cubrimiento.

<P>

<H2><A NAME="SECTION05669000000000000000">
Gramáticas LL(1)</A>
</H2>
Una gramática <tex2html_verbatim_mark>#math6506#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34097#</SPAN>
<tex2html_verbatim_mark>mathend000# cuyo lenguaje generado 
<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34099#</SPAN>
<tex2html_verbatim_mark>mathend000# puede ser analizado por un 
analizador sintáctico descendente recursivo predictivo
se denomina <A NAME="12136"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">LL(1)</SPAN>. Una gramática es LL(1) si y sólo si 
para cualesquiera dos
producciones <tex2html_verbatim_mark>#math6507#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34101#</SPAN>
<tex2html_verbatim_mark>mathend000# y <tex2html_verbatim_mark>#math6508#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34103#</SPAN>
<tex2html_verbatim_mark>mathend000# de
<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34105#</SPAN>
<tex2html_verbatim_mark>mathend000# se cumple:

<OL>
<LI><tex2html_verbatim_mark>#math6509#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34107#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
<LI>Si <tex2html_verbatim_mark>#math6510#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34109#</SPAN>
<tex2html_verbatim_mark>mathend000#, entonces <tex2html_verbatim_mark>#math6511#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34111#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
</OL>

<P>
¿De donde viene el nombre LL(1)? La primera L hace alusión al hecho de que 
el flujo de terminales se lee de izquierda a derecha, accediendo a la entrada
por su izquierda (<SPAN  CLASS="textbf">Left</SPAN>). La segunda L se refiere a que el método
de análisis predictivo construye una derivación a izquierdas. El número
entre paréntesis indica el número de terminales que debemos consultar para
decidir que regla de producción se aplica. Asi, en una gramática LL(2) la decisión 
final de que producción elegir se hace consultando los dos terminales a la entrada.

<P>

<H2><A NAME="SECTION056610000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12139"><tex2html_anchor_invisible_mark></A><BR>
Ejercicio: Caracterización de una gramática LL(1) 
</H2>
  
Cuando se dice que una gramática es LL(1) si, y sólo si:

<OL>
<LI><tex2html_verbatim_mark>#math6512#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34114#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
<LI>Si <tex2html_verbatim_mark>#math6513#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34116#</SPAN>
<tex2html_verbatim_mark>mathend000#, entonces <tex2html_verbatim_mark>#math6514#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34118#</SPAN>
<tex2html_verbatim_mark>mathend000#
</LI>
</OL>
se asume que los conjuntos <tex2html_verbatim_mark>#math6515#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34120#</SPAN>
<tex2html_verbatim_mark>mathend000# no son vacíos.

<UL>
<LI>¿Que se puede decir de la regla  <tex2html_verbatim_mark>#math6516#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34122#</SPAN>
<tex2html_verbatim_mark>mathend000# si
<tex2html_verbatim_mark>#math6517#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34124#</SPAN>
<tex2html_verbatim_mark>mathend000#?
</LI>
<LI>¿Que se puede decir de la variable <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34126#</SPAN>
<tex2html_verbatim_mark>mathend000# si <tex2html_verbatim_mark>#math6518#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34128#</SPAN>
<tex2html_verbatim_mark>mathend000#?
</LI>
</UL>

<P>

<H2><A NAME="SECTION056611000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12141"><tex2html_anchor_invisible_mark></A><BR>
Ejercicio: Ambiguedad y LL(1)
</H2>
  
¿Puede una gramática LL(1) ser ambigua?.
Razone su respuesta.

<P>

<H2><A NAME="SECTION056612000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12143"><tex2html_anchor_invisible_mark></A>
  
<A NAME="practica:APDR"><tex2html_anchor_mark></A><BR>
Práctica: Un analizador APDR
</H2>

<P>
Siguiendo con la construcción del compilador para el lenguaje Tutu, escriba un 
analizador APDR para la siguiente gramática. Reutilice el código de las
prácticas de las secciones anteriores 
(<A HREF=<tex2html_cr_mark>#section:analisislexico#11012><tex2html_cr_mark></A>
y
<A HREF=<tex2html_cr_mark>#section:lexicomodular#11013><tex2html_cr_mark></A>).

<P>
<BR>
<BR>
<TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT">program      <tex2html_verbatim_mark>#math6519#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34132#</SPAN>
<tex2html_verbatim_mark>mathend000# declarations  statements         <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34134#</SPAN>
<tex2html_verbatim_mark>mathend000# statements</TD>
</TR>
<TR><TD ALIGN="LEFT">declarations <tex2html_verbatim_mark>#math6520#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34136#</SPAN>
<tex2html_verbatim_mark>mathend000# declaration  ';'  declarations    <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34138#</SPAN>
<tex2html_verbatim_mark>mathend000# declaration ';'</TD>
</TR>
<TR><TD ALIGN="LEFT">declaration  <tex2html_verbatim_mark>#math6521#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34140#</SPAN>
<tex2html_verbatim_mark>mathend000# INT  idlist                       <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34142#</SPAN>
<tex2html_verbatim_mark>mathend000# STRING   idlist</TD>
</TR>
<TR><TD ALIGN="LEFT">statements   <tex2html_verbatim_mark>#math6522#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34144#</SPAN>
<tex2html_verbatim_mark>mathend000# statement  ';'  statements        <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34146#</SPAN>
<tex2html_verbatim_mark>mathend000# statement</TD>
</TR>
<TR><TD ALIGN="LEFT">statement    <tex2html_verbatim_mark>#math6523#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34148#</SPAN>
<tex2html_verbatim_mark>mathend000# ID '=' expression                 <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34150#</SPAN>
<tex2html_verbatim_mark>mathend000# P  expression <tex2html_verbatim_mark>#math6524#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34152#</SPAN>
<tex2html_verbatim_mark>mathend000#</TD>
</TR>
<TR><TD ALIGN="LEFT">expression   <tex2html_verbatim_mark>#math6525#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34154#</SPAN>
<tex2html_verbatim_mark>mathend000# term '+' expression               <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34156#</SPAN>
<tex2html_verbatim_mark>mathend000# term</TD>
</TR>
<TR><TD ALIGN="LEFT">term         <tex2html_verbatim_mark>#math6526#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34158#</SPAN>
<tex2html_verbatim_mark>mathend000# factor '*' term                   <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34160#</SPAN>
<tex2html_verbatim_mark>mathend000# factor</TD>
</TR>
<TR><TD ALIGN="LEFT">factor       <tex2html_verbatim_mark>#math6527#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34162#</SPAN>
<tex2html_verbatim_mark>mathend000# '(' expression ')' <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34164#</SPAN>
<tex2html_verbatim_mark>mathend000# ID <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34166#</SPAN>
<tex2html_verbatim_mark>mathend000# NUM <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34168#</SPAN>
<tex2html_verbatim_mark>mathend000# STR</TD>
</TR>
<TR><TD ALIGN="LEFT">idlist       <tex2html_verbatim_mark>#math6528#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34170#</SPAN>
<tex2html_verbatim_mark>mathend000# ID ',' idlist <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34172#</SPAN>
<tex2html_verbatim_mark>mathend000# ID</TD>
</TR>
</TABLE>
<BR>
<BR>

<P>

<H2><A NAME="SECTION056613000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="12145"><tex2html_anchor_invisible_mark></A>
  
<A NAME="practica:GAP"><tex2html_anchor_mark></A><BR>
Práctica: Generación Automática de Analizadores Predictivos
</H2>

<P>

<H4><A NAME="SECTION056613010000000000000">
Objetivo</A>
</H4>
Escriba un módulo <tex2html_verb_mark>1775<tex2html_verb_mark> que provea una subrutina <tex2html_verb_mark>1776<tex2html_verb_mark> para
la generación automática de un APDR supuesto que la gramática de entrada es 
LL(1). 

<P>
La subrutina <tex2html_verb_mark>1777<tex2html_verb_mark> recibe como entrada la gramática según la estructura de
datos generada  por la función <tex2html_verb_mark>1778<tex2html_verb_mark> de la versión 0.3 del módulo
<A NAME="tex2html364"
  HREF="Grammar-0.03.tar.gz">Grammar</A>. 

<P>

<H4><A NAME="SECTION056613020000000000000">
El Módulo <TT>Grammar</TT></A>
</H4>

<P>
La estructura de datos generada  por la función <tex2html_verb_mark>1779<tex2html_verb_mark>
se explicó en la práctica  
<A HREF=<tex2html_cr_mark>#practica:firstandfollow#11025><tex2html_cr_mark></A>.
La estructura ha sido extendida
en esta versión para incluir el código que se sitúe en la zona de cola.
Por ejemplo, dada la gramática de entrada:

<P>
<PRE><tex2html_verbatim_mark>verbatim5565#</PRE>
se genera la siguiente estructura de datos:
<PRE><tex2html_verbatim_mark>verbatim5566#</PRE>

<P>
Asi pues la entrada con clave <tex2html_verb_mark>1780<tex2html_verb_mark> contiene el código auxiliar de
cola. Este código debe ser incluido por su programa dentro del texto del
paquete generado por <tex2html_verb_mark>1781<tex2html_verb_mark>.

<P>

<H4><A NAME="SECTION056613030000000000000">
Descripción del objetivo: La función <TT>gap</TT></A>
</H4>

<P>
La función <tex2html_verb_mark>1782<tex2html_verb_mark> también recibe como entrada el nombre 
del package:
<PRE><tex2html_verbatim_mark>verbatim5567#</PRE>
La función <tex2html_verb_mark>1783<tex2html_verb_mark> retorna
una cadena conteniendo el <tex2html_verb_mark>1784<tex2html_verb_mark> en el que estan las subrutinas del
analizador sintáctico. 

<P>
La idea es que dicha cadena se salvará en un fichero
con nombre <tex2html_verb_mark>1785<tex2html_verb_mark> que podrá posteriormente ser usado 
(<tex2html_verb_mark>1786<tex2html_verb_mark>) por un programa que necesite analizar entradas
que se conforman de acuerdo a la especificación de la gramática.

<P>

<H4><A NAME="SECTION056613040000000000000">
Descripción del objetivo: La función <TT>parser</TT></A>
</H4>
La rutina principal del paquete generado se ha de llamar
<tex2html_verb_mark>1787<tex2html_verb_mark> (esto es, su nombre completo es: <tex2html_verb_mark>1788<tex2html_verb_mark>. 
Evidentemente <tex2html_verb_mark>1789<tex2html_verb_mark> debe ser un nombre Perl válido).
Ninguna subrutina deberá ser exportada sino que deberán ser llamadas
por su nombre completo.

<P>
La subrutina <tex2html_verb_mark>1790<tex2html_verb_mark> recibe como argumento el array de 
terminales, obtiene el primer terminal y llama a la subrutina
asociada con el símbolo de arranque. Los terminales están representados
como parejas <tex2html_verbatim_mark>#math6529#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34188#</SPAN>
<tex2html_verbatim_mark>mathend000#.

<P>
Observe que, una vez que la cadena <tex2html_verb_mark>1791<tex2html_verb_mark> conteniendo el paquete ha sido 
generada y salvada en un fichero con nombre <tex2html_verb_mark>1792<tex2html_verb_mark>, podemos escribir
un programa cliente:

<P>
<PRE><tex2html_verbatim_mark>verbatim5568#</PRE>

<P>
Este programa espera una entrada desde fichero o <tex2html_verb_mark>1793<tex2html_verb_mark> e
informa si dicha entrada es sintácticamente correcta o no
para la gramática en cuestión.

<P>

<H4><A NAME="SECTION056613050000000000000">
Cálculo de los First y los Follow con <TT>PL::FirstFollow</TT></A>
</H4>

<P>
Para facilitar la escritura de <tex2html_verb_mark>1794<tex2html_verb_mark> pueden hacer uso 
del módulo <A NAME="tex2html365"
  HREF="PL-FirstFollow-0.02.tar.gz">PL::FirstFollow</A>
el cual calcula los <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34191#</SPAN>
<tex2html_verbatim_mark>mathend000# y los <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline34193#</SPAN>
<tex2html_verbatim_mark>mathend000#. El módulo  <#12146#><TT>PL::FirstFollow</TT><#12146#> 
depende de 
<A NAME="tex2html366"
  HREF="http://search.cpan.org/&#126;jhi/Set-Scalar-1.20/lib/Set/Scalar.pm">Set::Scalar</A>
escrito por 
<A NAME="tex2html367"
  HREF="http://search.cpan.org/&#126;jhi/">Jarkko Hietaniemi</A>: instálelo primero.

<P>
Deberá familiarizarse con <#11044#><TT>PL::FirstFollow</TT><#11044#>, rellenar la
documentación de todas las subrutinas (apariciones de <tex2html_verb_mark>1795<tex2html_verb_mark> en el texto)
y escribir la documentación siguiendo el template que se provee. 
<SPAN  CLASS="textbf">Rellene los fragmentos de código que se han sustituido por 
signos de interrogación</SPAN>.
Haga un estudio de cubrimiento
y añada pruebas para mejorar el actual. El actual cubrimiento es:
<PRE><tex2html_verbatim_mark>verbatim5569#</PRE>
Si observa un fallo en  <#12147#><TT>PL::FirstFollow</TT><#12147#>  háganoslo saber y
además de resolverlo escriba una prueba para detectar el fallo.

<P>
Haga un estudio de profiling de su aplicación.

<H4><A NAME="SECTION056613060000000000000">
Uso de Templates</A>
</H4>

<P>
Un módulo que puede facilitar la escritura de esta práctica 
es 
<A NAME="tex2html368"
  HREF="http://search.cpan.org/&#126;mjd/Text-Template-1.44/lib/Text/Template.pm">Text::Template</A>
debido a 
<A NAME="tex2html369"
  HREF="http://search.cpan.org/&#126;mjd/">Mark Jason Dominus</A>.
El siguiente ejemplo de uso es un fragmento de  un traductor - que nunca acabo de terminar
- que toma con fuente 
un fichero en el formato que usa Moodle para los cuestionarios (conocido como 
formato GIFT) y lo convierte en un cuestionario <SPAN CLASS="logo,LaTeX">L<SUP><SMALL>A</SMALL></SUP>T<SMALL>E</SMALL>X</SPAN><#11054#><#11054#>:

<P>
<PRE><tex2html_verbatim_mark>verbatim5570#</PRE>
En la línea 55 se crea el template. El template se lee desde el fichero
<tex2html_verb_mark>1796<tex2html_verb_mark> cuyo contenido es una mezcla
de texto (en este caso texto <SPAN CLASS="logo,LaTeX">L<SUP><SMALL>A</SMALL></SUP>T<SMALL>E</SMALL>X</SPAN><#11057#><#11057#> y HTML) con código Perl:
El código Perl aparece acotado entre los delimitadores <tex2html_verb_mark>1798<tex2html_verb_mark>
y <tex2html_verb_mark>1800<tex2html_verb_mark>.

<P>
<PRE><tex2html_verbatim_mark>verbatim5571#</PRE>

<P>
El template se rellena en las líneas 87-94. En esa llamada
se ejecuta el código Perl incrustado en el esqueleto
y su resultado se inserta en la posición que ocupa en el texto.

<P>

<H4><A NAME="SECTION056613070000000000000">
Concatenación y Documentos <TT>HERE</TT></A>
</H4>
Cuando concatene sangre adecuadamente las concatenaciones:
<PRE><tex2html_verbatim_mark>verbatim5572#</PRE>
ponga el punto al principio de la siguiente línea, no al final.

<P>
Pero cuando el número de líneas es grande 
es mejor
usar un <A NAME="12148"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">here document</SPAN>
o <A NAME="12150"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">documento aqui</SPAN>. Veamos un ejemplo:
<PRE><tex2html_verbatim_mark>verbatim5573#</PRE>
Para definir un ``documento aqui'' 
se escribe la etiqueta entrecomillada y precedida de <tex2html_verb_mark>1801<tex2html_verb_mark> y 
sigue el texto que consituye el <SPAN  CLASS="textbf">here document</SPAN>
que se delimita por una línea en blanco que empieza por la etiqueta.
Al documento aquí se le trata como una cadena de doble comilla si
la etiqueta aparece en doble comilla y como de comilla simple
si la etiqueta esta  entre comillas simples.
Observe que el punto y coma se escribe despues 
de la primera aparición 
de la etiqueta.

<P>
Un problema con el uso de los heredoc es que rompen la estructura normal
del sangrado:
<PRE><tex2html_verbatim_mark>verbatim5574#</PRE>
Es mejor que cada heredoc se aisle en una subrutina y se parametrice con
las variables que van a ser interpoladas:
<PRE><tex2html_verbatim_mark>verbatim5575#</PRE>

<P>
que mas tarde puede ser llamado con los valores de interpolación adecuados:

<P>
<PRE><tex2html_verbatim_mark>verbatim5576#</PRE>
Véase  el libro de Conway  Perl Best Practices
[#bestpractices#<tex2html_cite_mark>#1##<tex2html_cite_mark>#]
para mas detalles sobre buenas prácticas de programación con heredocs.

<P>

<H4><A NAME="SECTION056613080000000000000">
Descarga de los Módulos Necesarios</A>
</H4>

<UL>
<LI>El módulo  <#12152#><TT>Grammar</TT><#12152#> : 
<A NAME="tex2html370"
  HREF="http://nereida.deioc.ull.es/&#126;pl/perlexamples/Grammar-0.03.tar.gz">http://nereida.deioc.ull.es/&#732;pl/perlexamples/Grammar-0.03.tar.gz</A>
<P>
</LI>
<LI>El módulo  <#12153#><TT>PL::FirstFollow</TT><#12153#> :
<A NAME="tex2html371"
  HREF="http://nereida.deioc.ull.es/&#126;pl/perlexamples/PL-FirstFollow-0.02.tar.gz">http://nereida.deioc.ull.es/&#732;pl/perlexamples/PL-FirstFollow-0.02.tar.gz</A>
</LI>
</UL>

<P>

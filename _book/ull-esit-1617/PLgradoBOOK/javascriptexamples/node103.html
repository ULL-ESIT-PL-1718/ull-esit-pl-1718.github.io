
<H1><A NAME="SECTION052220000000000000000">
An&#225;lisis Léxico desde una Cadena: <TT>yy_scan_string</TT></A>
</H1>
El objetivo de este ejercicio es mostrar como realizar un
an&#225;lisis l&#233;xico de los argumentos pasados en la l&#305;nea de
comandos. Para ello <SPAN  CLASS="textit">flex</SPAN> provee la funci&#243;n <tex2html_verb_mark>404<tex2html_verb_mark>.
Esta rutina crea un nuevo <SPAN  CLASS="textit">buffer</SPAN> de entrada y devuelve el correspondiente
manejador <tex2html_verb_mark>405<tex2html_verb_mark> asociado con la cadena
<tex2html_verb_mark>406<tex2html_verb_mark>. Esta cadena debe estar terminada por un car&#225;cter <tex2html_verb_mark>407<tex2html_verb_mark>. 
Podemos liberar la memoria asociada con
dicho <SPAN  CLASS="textit">buffer</SPAN> utilizando <tex2html_verb_mark>408<tex2html_verb_mark>.
La siguiente llamada a <tex2html_verb_mark>409<tex2html_verb_mark> realizar&#225; el an&#225;lisis l&#233;xico
de la cadena <tex2html_verb_mark>410<tex2html_verb_mark>.

<P>
<PRE><tex2html_verbatim_mark>verbatim665#</PRE>
Alternativamente, la función <tex2html_verb_mark>411<tex2html_verb_mark> podría haber sido escrita asi:
<PRE><tex2html_verbatim_mark>verbatim666#</PRE>
La funci&#243;n <tex2html_verb_mark>412<tex2html_verb_mark> hace lo mismo que 
<tex2html_verb_mark>413<tex2html_verb_mark> pero en vez de una cadena terminada en
el car&#225;cter nulo, se usa la longitud <tex2html_verb_mark>414<tex2html_verb_mark>.
Ambas funciones <tex2html_verb_mark>415<tex2html_verb_mark> y
<tex2html_verb_mark>416<tex2html_verb_mark> hacen una copia
de la cadena pasada como argumento.

<P>
Estas dos funciones crean una copia de la cadena original. Es mejor que sea asi, ya que <tex2html_verb_mark>417<tex2html_verb_mark>
modifica los contenidos del <SPAN  CLASS="textit">buffer</SPAN> de trabajo. Si queremos evitar la copia,
podemos usar 

<P>
<tex2html_verb_mark>418<tex2html_verb_mark>,

<P>
la cual trabaja directamente con el <SPAN  CLASS="textit">buffer</SPAN> que comienza en <tex2html_verb_mark>419<tex2html_verb_mark>, 
de tamaño <tex2html_verb_mark>420<tex2html_verb_mark> <SPAN  CLASS="textit">bytes</SPAN>, los últimos dos de los cuáles deben
ser <tex2html_verb_mark>421<tex2html_verb_mark> (ASCII  NUL).   
Estos dos últimos <SPAN  CLASS="textit">bytes</SPAN> no son ``escaneados''. El área de rastreo va
desde <tex2html_verb_mark>422<tex2html_verb_mark> a <tex2html_verb_mark>423<tex2html_verb_mark>, inclusive.
Si nos olvidamos de hacerlo de este modo y no establecemos los dos <SPAN  CLASS="textit">bytes</SPAN> finales,
la función <tex2html_verb_mark>424<tex2html_verb_mark> devuelve un puntero nulo
y no llega a crear el nuevo buffer de entrada.
El tipo  <tex2html_verb_mark>425<tex2html_verb_mark> es un tipo entero.
Como cabe esperar, <tex2html_verb_mark>426<tex2html_verb_mark> se refiere al tamaño del <SPAN  CLASS="textit">buffer</SPAN>.

<P>


<H1><A NAME="SECTION05620000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="section:fases"><tex2html_anchor_mark></A><BR>
Las Fases de un Compilador
</H1>
La estructura del compilador, descompuesto en fases, queda explicitada 
en el código de la subrutina <tex2html_verb_mark>1494<tex2html_verb_mark>:

<P>

<H4><A NAME="SECTION05620010000000000000">
Esquema del Compilador</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
<PRE><tex2html_verbatim_mark>verbatim5481#</PRE>

<P>

<H4><A NAME="SECTION05620020000000000000">
Añadiendo Ejecutables</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
Vamos a añadir un <SPAN  CLASS="textbf">script</SPAN> que use el módulo
<tex2html_verb_mark>1495<tex2html_verb_mark> para asi poder ejecutar nuestro compilador:
<PRE><tex2html_verbatim_mark>verbatim5482#</PRE>
A continuación creamos dos versiones del compilador <tex2html_verb_mark>1496<tex2html_verb_mark>
y <tex2html_verb_mark>1497<tex2html_verb_mark> y un programa de prueba <tex2html_verb_mark>1498<tex2html_verb_mark>:

<P>
<PRE><tex2html_verbatim_mark>verbatim5483#</PRE>

<P>

<H4><A NAME="SECTION05620030000000000000">
Búsqueda de Librerías en Tiempo de Desarrollo</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
El programa <tex2html_verb_mark>1499<tex2html_verb_mark> ilustra otra forma de conseguir que el intérprete
Perl busque por la librería que está siendo desarrollada, mediante el
uso de <tex2html_verb_mark>1500<tex2html_verb_mark>:

<P>
<PRE><tex2html_verbatim_mark>verbatim5484#</PRE>

<P>
Una tercera forma (la que recomiendo):
<PRE><tex2html_verbatim_mark>verbatim5485#</PRE>

<P>

<H4><A NAME="SECTION05620040000000000000">
Añadiendo Los Ejecutables al <TT>MANIFEST</TT></A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
Ahora tenemos que añadir estos ficheros en <tex2html_verb_mark>1501<tex2html_verb_mark> para que formen
parte del proyecto. En vez de eso lo que podemos hacer es crear un fichero
<tex2html_verb_mark>1502<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim5486#</PRE>
Ahora al hacer
<PRE><tex2html_verbatim_mark>verbatim5487#</PRE>
se crea un fichero <tex2html_verb_mark>1503<tex2html_verb_mark> que contiene los caminos 
relativos de todos los ficheros
en la jerarquía cuyos nombres no casan con una de las expresiones
regulares en <tex2html_verb_mark>1504<tex2html_verb_mark>.

<P>
Para saber mas sobre <tex2html_verb_mark>1505<tex2html_verb_mark> léa 
<A HREF=<tex2html_ext_cr_mark>#subsection:MANIFEST#11944><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].

<P>
No recomiendo el uso de <tex2html_verb_mark>1506<tex2html_verb_mark>. Prefiero un control manual de los
ficheros que integran la aplicacion.

<P>

<H4><A NAME="SECTION05620050000000000000">
Indicando al Sistema de Distribución que los Ficheros son Ejecutables</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
Es necesario indicarle a Perl que los ficheros añadidos son ejecutables.
Esto se hace mediante el par&#225;metro <tex2html_verb_mark>1507<tex2html_verb_mark> de <tex2html_verb_mark>1508<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim5488#</PRE>
Perl utilizará esa información durante la fase de instalación
para instalar los ejecutables en el <SPAN  CLASS="textbf">path</SPAN> de búsqueda.

<P>

<H4><A NAME="SECTION05620060000000000000">
Reconstrucci&#243;n de la aplicación</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
A continuación hay que rehacer el <tex2html_verb_mark>1509<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim5489#</PRE>

<P>
Para crear una versión funcional hacemos <tex2html_verb_mark>1510<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim5490#</PRE>

<P>
Para crear el <tex2html_verb_mark>1511<tex2html_verb_mark> hacemos <tex2html_verb_mark>1512<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim5491#</PRE>

<P>
Comprobemos que el test de prueba generado automáticamente por
<tex2html_verb_mark>1513<tex2html_verb_mark> se pasa correctamente:
<PRE><tex2html_verbatim_mark>verbatim5492#</PRE>

<P>

<H4><A NAME="SECTION05620070000000000000">
Ejecución</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
Podemos ahora ejecutar los guiones:
<PRE><tex2html_verbatim_mark>verbatim5493#</PRE>

<P>
Veamos los contenidos del programa fuente <tex2html_verb_mark>1514<tex2html_verb_mark>
que usaremos para hacer una prueba:
<PRE><tex2html_verbatim_mark>verbatim5494#</PRE>

<P>

<H4><A NAME="SECTION05620080000000000000">
Construcción de una Distribución</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
Para hacer una distribución instalable hacemos <tex2html_verb_mark>1515<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim5495#</PRE>
Después de esto tenemos en el directorio de trabajo
el fichero  <tex2html_verb_mark>1516<tex2html_verb_mark> con la distribución:
<PRE><tex2html_verbatim_mark>verbatim5496#</PRE>

<P>

<H2><A NAME="SECTION05621000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="11963"><tex2html_anchor_invisible_mark></A>
  
<A NAME="repaso:fases"><tex2html_anchor_mark></A><BR>
Repaso: Fases de un Compilador
</H2>

<OL>
<LI>¿Que hace la declaración 
<tex2html_verb_mark>1517<tex2html_verb_mark>?
</LI>
<LI>¿Cual es la función de la declaración <tex2html_verb_mark>1518<tex2html_verb_mark>?
</LI>
<LI>¿Cuál es la función de la declaración <tex2html_verb_mark>1519<tex2html_verb_mark>?
</LI>
<LI>¿Cuál es la función de la declaración <tex2html_verb_mark>1520<tex2html_verb_mark>?
</LI>
<LI>¿Que diferencia hay entre <tex2html_verb_mark>1521<tex2html_verb_mark> y <tex2html_verb_mark>1522<tex2html_verb_mark>?
</LI>
<LI>¿Cuál es la función de la declaración <tex2html_verb_mark>1523<tex2html_verb_mark>?
¿Que diferencia hay entre <tex2html_verb_mark>1524<tex2html_verb_mark> y <tex2html_verb_mark>1525<tex2html_verb_mark>?
</LI>
<LI>¿Qué hace la declaración <tex2html_verb_mark>1526<tex2html_verb_mark>? 
</LI>
<LI>¿Qué es una variable de paquete?
</LI>
<LI>¿Cuál es el nombre completo de una variable de paquete?
</LI>
<LI>¿En que variable especial se situán los argumentos pasados a una subrutina?
</LI>
<LI>¿Que hace la declaración <tex2html_verb_mark>1527<tex2html_verb_mark>?
</LI>
<LI>¿Cómo se declara una variable léxica?
</LI>
<LI>¿Cuál es el prefijo para los hashes?
</LI>
<LI>¿Cómo se hace referencia a un elemento de un hash <tex2html_verb_mark>1529<tex2html_verb_mark> de clave <tex2html_verb_mark>1530<tex2html_verb_mark>?
</LI>
<LI>¿Cómo se hace referencia a un elemento de un array <tex2html_verb_mark>1531<tex2html_verb_mark> de índice <tex2html_verb_mark>1532<tex2html_verb_mark>?
¿Que lugar ocupa ese elemento en el array?
</LI>
<LI>¿Cuál es el significado de <tex2html_verb_mark>1533<tex2html_verb_mark>?
</LI>
<LI>¿Cuál es el prefijo para las subrutinas?
</LI>
<LI>Señale la diferencia entre
<PRE><tex2html_verbatim_mark>verbatim5497#</PRE>
y
<PRE><tex2html_verbatim_mark>verbatim5498#</PRE>
Repase 
<A HREF=<tex2html_ext_cr_mark>#section:referencias#11964><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].
</LI>
<LI>Toda referencia es un escalar: ¿Cierto o falso?
</LI>
<LI>Toda referencia es verdadera ¿Cierto o falso?
</LI>
<LI>¿Que diferencia hay entre <tex2html_verb_mark>1534<tex2html_verb_mark> y <tex2html_verb_mark>1535<tex2html_verb_mark>?
¿La línea <tex2html_verb_mark>1536<tex2html_verb_mark> se ejecuta en tiempo de compilación 
o en tiempo de ejecución?
</LI>
<LI>¿Que hace la línea 
<tex2html_verb_mark>1537<tex2html_verb_mark>?. Repáse 
<A HREF=<tex2html_ext_cr_mark>#section:herencia#11966><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].

<P>
</LI>
<LI>¿Que hace la línea
<tex2html_verb_mark>1538<tex2html_verb_mark>?
</LI>
<LI>¿Que diferencia hay entre <tex2html_verb_mark>1539<tex2html_verb_mark> y <tex2html_verb_mark>1540<tex2html_verb_mark>?.
Repase <A HREF=<tex2html_ext_cr_mark>#section:exportacion#11968><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].
</LI>
<LI>¿Que hace la línea
<tex2html_verb_mark>1541<tex2html_verb_mark>?
</LI>
<LI>¿Que valor tiene una variable no incializada? ¿y si es un array?
</LI>
<LI>¿Que es un array anónimo? 
(Repase <A HREF=<tex2html_ext_cr_mark>#section:anonimos#11970><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#])
</LI>
<LI>¿Que es un hash anónimo?
(Repase <A HREF=<tex2html_ext_cr_mark>#section:anonimos#11972><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#])
</LI>
<LI>¿Que hace el operador <tex2html_verb_mark>1542<tex2html_verb_mark>?.
Repase 
<A HREF=<tex2html_ext_cr_mark>#subsection:flechagrande#11974><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].
</LI>
<LI>¿En que lugar se dejan los ejecutables asociados con una distribución?
¿Cómo se informa a Perl que se trata de ejecutables?
</LI>
<LI>¿Cuál es la función de <tex2html_verb_mark>1543<tex2html_verb_mark>?
¿Que hace <tex2html_verb_mark>1544<tex2html_verb_mark>?
</LI>
<LI>¿Que hace la opción <tex2html_verb_mark>1545<tex2html_verb_mark>?
¿Porqué la primera línea de <tex2html_verb_mark>1546<tex2html_verb_mark> comienza:
<BR><tex2html_verb_mark>1547<tex2html_verb_mark>?
</LI>
<LI>¿Cómo puedo saber lo que hace el módulo <tex2html_verb_mark>1548<tex2html_verb_mark>?
¿Qué hace la línea <tex2html_verb_mark>1549<tex2html_verb_mark> en el programa <tex2html_verb_mark>1550<tex2html_verb_mark>?
</LI>
<LI>¿Que contiene la variable <tex2html_verb_mark>1551<tex2html_verb_mark>?
</LI>
<LI>¿Cómo se crea una distribución?
</LI>
<LI>¿Que devuelve <tex2html_verb_mark>1552<tex2html_verb_mark> en la línea 79?
Repase 
<A HREF=<tex2html_ext_cr_mark>#subsection:filetests#11976><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#].
</LI>
<LI>¿Cuál es la función de la variable mágica <tex2html_verb_mark>1553<tex2html_verb_mark>?
¿Que se leerá en la línea 86
<PRE><tex2html_verbatim_mark>verbatim5499#</PRE>
</LI>
<LI>¿Que hace el operador <tex2html_verb_mark>1554<tex2html_verb_mark>? ¿Que relación hay entre <tex2html_verb_mark>1555<tex2html_verb_mark> y <tex2html_verb_mark>1556<tex2html_verb_mark>?.
</LI>
<LI>Si <tex2html_verb_mark>1557<tex2html_verb_mark> es una referencia a la cadena que va a contener el
código objeto, ¿Cómo se denota a la cadena referenciada por <tex2html_verb_mark>1558<tex2html_verb_mark>?
Explique la línea 
<PRE><tex2html_verbatim_mark>verbatim5500#</PRE>
</LI>
</OL>

<P>

<H2><A NAME="SECTION05622000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="11979"><tex2html_anchor_invisible_mark></A>
  
<A NAME="practica:fases"><tex2html_anchor_mark></A><BR>
Práctica: Fases de un Compilador
</H2>
Reproduzca los pasos explicados en la sección
<A HREF=<tex2html_cr_mark>#section:fases#10581><tex2html_cr_mark></A> extendiendo el módulo <tex2html_verb_mark>1559<tex2html_verb_mark>
con las funciones de compilación y los correspondientes
guiones de compilación.

<P>
Mejore el script <tex2html_verb_mark>1560<tex2html_verb_mark> para que acepte opciones desde la línea de comandos.
Debera soportar al menos las siguientes opciones:

<UL>
<LI><tex2html_verb_mark>1561<tex2html_verb_mark> 

<P>
Muestra de forma concisa el comando de uso
</LI>
<LI><tex2html_verb_mark>1562<tex2html_verb_mark> 

<P>
Un resumen de cada opción disponible

<P>
</LI>
<LI><tex2html_verb_mark>1563<tex2html_verb_mark>

<P>
Muestra la versión del programa

<P>
</LI>
<LI><tex2html_verb_mark>1564<tex2html_verb_mark> 

<P>
Muestra la documentación
</LI>
</UL>

<P>
Use para ello el módulo  <#11980#><TT>Getopt::Long</TT><#11980#> .
Este módulo provee la función  <#11981#><TT>GetOptions</TT><#11981#>  la cual
se atiene a los estándares de especificación
de opciones en la línea de comandos POSIX y GNU.
Esta función soporta el uso del guión doble <tex2html_verb_mark>1565<tex2html_verb_mark>
y el simple así como admitir el prefijo mas corto
que deshace la ambiguedad entre las diferentes opciones.

<P>
La llamada a 
 <#11982#><TT>GetOptions</TT><#11982#>  analiza la l&#237;nea de comandos en
<tex2html_verb_mark>1566<tex2html_verb_mark>
inicializa la variable asociada de manera adecuada. Retorna un valor verdadero
si la l&#237;nea de comandos pudo ser procesada con
En caso contrario emitir&#225;
un mensaje de error y devolver&#225; falso. Recuerde hacer
<tex2html_verb_mark>1567<tex2html_verb_mark>
para obtener informaci&#243;n mas detallada

<P>
El siguiente ejemplo ilustra el uso de <tex2html_verb_mark>1568<tex2html_verb_mark>.
Se hace uso también del módulo (función  <#11983#><TT>pod2usage</TT><#11983#>  en la línea 63)
<tex2html_verb_mark>1569<tex2html_verb_mark> el cual permite la documentación empotrada.

<P>
<PRE><tex2html_verbatim_mark>verbatim5501#</PRE>

<P>
Ahora podemos ejecutar el guión de múltiples formas:
<PRE><tex2html_verbatim_mark>verbatim5502#</PRE>

<P>
La librería estandar de Perl incluye el módulo <tex2html_verb_mark>1570<tex2html_verb_mark>. 
No es el caso de <tex2html_verb_mark>1571<tex2html_verb_mark>. Descarge el módulo e instalelo
en un directorio local en el que tenga permisos. Si es preciso repase las secciones
<A HREF=<tex2html_ext_cr_mark>#section:instalacionamano#11984><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#] y <A HREF=<tex2html_ext_cr_mark>#section:CPAN#11986><tex2html_ext_cr_mark></A> [#CasianoIntroAPerl#<tex2html_cite_mark>#1##<tex2html_cite_mark>#]  de los apuntes de 
introducción a Perl.

<P>
